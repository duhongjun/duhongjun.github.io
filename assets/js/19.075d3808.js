(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{331:function(t,s,a){t.exports=a.p+"assets/img/1.1427cb93.jpg"},332:function(t,s,a){t.exports=a.p+"assets/img/2.bd676d62.png"},333:function(t,s,a){t.exports=a.p+"assets/img/3.4888688a.png"},334:function(t,s,a){t.exports=a.p+"assets/img/4.0b423656.png"},375:function(t,s,a){"use strict";a.r(s);var e=a(44),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"打包结果运行原理初探"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包结果运行原理初探"}},[t._v("#")]),t._v(" 打包结果运行原理初探")]),t._v(" "),e("p",[t._v("我们先写一段简单的代码用来编译。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// src/index.js")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" test "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./test'")]),t._v("\nwindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" test\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// src/test.js")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("将 Webpack 工作模式设置为 none，这样 Webpack 就会按照最原始的状态进行打包，所得到的结果更容易理解和阅读。")]),t._v(" "),e("p",[t._v("按照 none 模式打包完成后，我们打开最终生成的 bundle.js 文件，如下图所示：\n"),e("img",{attrs:{src:a(331),alt:"image"}})]),t._v(" "),e("p",[t._v("我们将代码折叠起来， 可以发现整体代码是一个立即执行函数, 这个函数时webpack工作入口（webpackBootstrap），参数接受一个modules数组。\n"),e("img",{attrs:{src:a(332),alt:"image"}})]),t._v(" "),e("p",[t._v("展开modules数组，里面的元素都是接受参数相同的函数。这里的函数对应的就是我们源码中的模块，也就是说每个模块最终被包裹到了这样一个函数中，从而实现模块私有作用域，如下图所示：\n"),e("img",{attrs:{src:a(333),alt:"image"}})]),t._v(" "),e("p",[t._v("我们再来展开 Webpack 工作入口函数，如下图所示：\n"),e("img",{attrs:{src:a(334),alt:"image"}})])])}),[],!1,null,null,null);s.default=n.exports}}]);